{% extends 'base.html' %}

{% block title %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ - EventHub{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="bi bi-ticket-perforated"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ
                    </h4>
                </div>
                <div class="card-body p-5">
                    <h5 class="mb-4">{{ event.title }}</h5>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <p><i class="bi bi-calendar"></i> <strong>–î–∞—Ç–∞:</strong> {{ event.date|date:"d E Y, H:i" }}</p>
                            <p><i class="bi bi-geo-alt"></i> <strong>–ú–µ—Å—Ç–æ:</strong> {{ event.location }}</p>
                        </div>
                        <div class="col-md-6 text-end">
                            {% if event.price > 0 %}
                                <h3 class="text-success">{{ event.price }} ‚ÇΩ</h3>
                                <small class="text-muted">–°—Ç–æ–∏–º–æ—Å—Ç—å —É—á–∞—Å—Ç–∏—è</small>
                            {% else %}
                                <h3 class="text-success">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</h3>
                            {% endif %}
                        </div>
                    </div>
                    
                    {% if event.price > 0 %}
                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> –≠—Ç–æ –ø–ª–∞—Ç–Ω–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã.
                    </div>
                    {% endif %}
                    
                    <form method="post">
                        {% csrf_token %}
                        
                        {% if event.price > 0 %}
                            <div class="mb-4">
                                <h6>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</h6>
                                {{ form.payment_method }}
                                {% if form.payment_method.errors %}
                                    <div class="text-danger small">{{ form.payment_method.errors }}</div>
                                {% endif %}
                            </div>
                            
                            <div class="alert alert-light border">
                                <h6><i class="bi bi-credit-card"></i> –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã:</h6>
                                <ul class="mb-0">
                                    <li><strong>üíµ –ù–∞–ª–∏—á–Ω—ã–µ –ø—Ä–∏ –≤—Å—Ç—Ä–µ—á–µ</strong> - –æ–ø–ª–∞—Ç–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –Ω–∞ –º–µ—Å—Ç–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</li>
                                    <li><strong>üí≥ –ö–∞—Ä—Ç–æ–π –ú–ò–† –æ–Ω–ª–∞–π–Ω</strong> - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–Ω–ª–∞–π–Ω –æ–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π –ú–ò–†</li>
                                    <li><strong>üí≥ –î—Ä—É–≥–æ–π –∫–∞—Ä—Ç–æ–π –æ–Ω–ª–∞–π–Ω</strong> - –æ–ø–ª–∞—Ç–∞ Visa/Mastercard/UnionPay</li>
                                </ul>
                            </div>
                        {% else %}
                            <input type="hidden" name="payment_method" value="not_selected">
                            <div class="alert alert-success">
                                <i class="bi bi-check-circle"></i> –≠—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ. –ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è".
                            </div>
                        {% endif %}
                        
                        <div class="d-flex justify-content-between mt-4">
                            <a href="{% url 'event_detail' event.id %}" class="btn btn-outline-secondary">
                                <i class="bi bi-arrow-left"></i> –û—Ç–º–µ–Ω–∞
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-check-circle"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.form-check {
    margin-bottom: 10px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    transition: all 0.3s;
}

.form-check:hover {
    background-color: #f8f9fa;
    border-color: #667eea;
}

.form-check-input:checked + .form-check-label {
    font-weight: 600;
}

.form-check-label {
    margin-left: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
}

.form-check-label i {
    margin-right: 10px;
    font-size: 1.2rem;
}
</style>
{% endblock %}
